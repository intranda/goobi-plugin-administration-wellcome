<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:x="http://myfaces.apache.org/tomahawk"
	xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
	<composite:interface>
	</composite:interface>
	<composite:implementation>
		<h:form id="counterscript" prependId="false" styleClass="flow">
			<intranda:box
				icon="fa fa-plug"
				title="#{msgs[AdministrationForm.administrationPlugin.title]}"
				boxForm="true"
				boxPadding="false"
				boxType="neutral">
				<intranda:formInputCalendar name="start" label="#{msgs.zeitraum} #{msgs.from}"
					field="#{AdministrationForm.administrationPlugin.startDate}" required="false" />
				<intranda:formInputCalendar name="end" label="#{msgs.zeitraum} #{msgs.to}"
					field="#{AdministrationForm.administrationPlugin.endDate}" required="false" />
				<intranda:formInputCheckBox label="#{msgs.includeOutdatedData}"
					field="#{AdministrationForm.administrationPlugin.includeOutdatedData}" name="check" />
				<div class="box__actions">
					<h:commandLink
						styleClass="btn btn-neutral-600"
						id="absenden"
						action="#{AdministrationForm.administrationPlugin.getData}">
						<span class="fa fa-filter" />
						<span>
							<h:outputText value="#{msgs.filter}" />
						</span>
					</h:commandLink>
					<!--                                 <h:commandLink styleClass="btn font-size-s" id="cancel" action="#{AdministrationForm.administrationPlugin.resetData}" immediate="true"> -->
					<!--                                     <h:outputText value="#{msgs.clear}" /> -->
					<!--                                 </h:commandLink> -->
				</div>
			</intranda:box>
			<h:panelGroup
				rendered="#{AdministrationForm.administrationPlugin.detailList == null and AdministrationForm.administrationPlugin.dataList != null}">
				<intranda:box
					icon="fa fa-table"
					title="#{msgs.records}"
					boxForm="false"
					boxPadding="false"
					boxType="neutral">
					<div class="dataTables_wrapper">
						<div class="dataTables_length">
							<h:outputText value="#{msgs.treffer}: #{AdministrationForm.administrationPlugin.sizeOfDataList}" />
						</div>
						<!-- Datentabelle -->
						<x:dataTable id="counterscriptTable"
							styleClass="table table-hover table-nomargin dataTable table-bordered responsive"
							var="item" value="#{AdministrationForm.administrationPlugin.paginatorList}">
							<x:column styleClass="#{item.active ? 'inactive':'active'}" rendered="false">
								<f:facet name="header">
									<h:outputText value="#{msgs.id}" />
								</f:facet>
								<h:outputText value="#{item.id}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.creationDate}" />
								</f:facet>
								<h:outputText value="#{item.creationDate}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.modificationDate}" />
								</f:facet>
								<h:outputText value="#{item.modificationDate}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.deletionDate}" />
								</f:facet>
								<h:outputText value="#{item.deletionDate}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}" rendered="false">
								<f:facet name="header">
									<h:outputText value="#{msgs.filename}" />
								</f:facet>
								<h:outputText value="#{item.filename}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.bnumber}" />
								</f:facet>
								<h:outputText value="#{item.bnumber}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.material}" />
								</f:facet>
								<h:outputText value="#{item.material}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.accessStatus}" />
								</f:facet>
								<h:outputText value="#{item.accessStatus}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.accessLicence}" />
								</f:facet>
								<h:outputText value="#{item.accessLicence}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.playerPermissions}" />
								</f:facet>
								<h:outputText value="#{item.playerPermissions}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.status}" />
								</f:facet>
								<h:outputText value="#{item.status}" />
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.active}" />
								</f:facet>
								<h:panelGroup class="" rendered="#{!item.active}">
									<i class="fa fa-times-circle font-red font-size-l"></i>
								</h:panelGroup>
								<h:panelGroup rendered="#{item.active}">
									<i class="fa fa-check-circle font-green font-size-l"></i>
								</h:panelGroup>
							</x:column>
							<x:column styleClass="#{item.active ? 'inactive':'active'}">
								<f:facet name="header">
									<h:outputText value="#{msgs.details}" />
								</f:facet>
								<h:commandLink styleClass="btn font-size-s" id="cancel"
									action="#{AdministrationForm.administrationPlugin.getDetails}" immediate="true"
									title="#{msgs.details}">
									<i class="fa fa-file-text-o" />
									<f:setPropertyActionListener
										target="#{AdministrationForm.administrationPlugin.currentNumber}"
										value="#{item.bnumber}" />
								</h:commandLink>
							</x:column>
						</x:dataTable>
						<div class="dataTables_info">
							<h:commandLink styleClass="btn btn-primary font-size-s margin-top-regular" id="download"
								action="#{AdministrationForm.administrationPlugin.download}" immediate="true">
								<i class="fa fa-download margin-right-5"></i>
								<h:outputText value="#{msgs.downloadCsv}" />
							</h:commandLink>
						</div>
						<div class="dataTables_paginate">
							<!-- paginator -->
							<div>
								<h:commandLink styleClass="btn font-size-s margin-sides-10"
									action="#{AdministrationForm.administrationPlugin.cmdMoveFirst}">
									<i class="fa fa-double-angle-left"></i>
									<f:ajax execute="@form" render="@form :qaform" />
								</h:commandLink>
								<h:commandLink styleClass="btn btn-primary font-size-s"
									action="#{AdministrationForm.administrationPlugin.cmdMovePrevious}">
									<i class="fa fa-angle-left"></i>
									<f:ajax execute="@form" render="@form :qaform" />
									<h:outputText value=" #{msgs.pagePrevious}" />
								</h:commandLink>
								<div class="margin-sides-10">
									<!-- aktuelle Seite anzeigen -->
									<x:outputText id="txtMoveTo1" forceId="true"
										value="#{msgs.seite} #{AdministrationForm.administrationPlugin.pageNumberCurrent} #{msgs.von} #{AdministrationForm.administrationPlugin.pageNumberLast}"
										onclick="document.getElementById('txtMoveTo2').style.display='inline';
											document.getElementById('txtMoveTo1').style.display='none';
											document.getElementById('txtMoveTo2').focus();
											document.getElementById('txtMoveTo2').select();" />
									<!-- Seite direkt anspringen -->
									<x:inputText id="txtMoveTo2" forceId="true"
										value="#{AdministrationForm.administrationPlugin.txtMoveTo}"
										style="display:none;font-size:9px;width:30px" required="true"
										onblur="document.getElementById('txtMoveTo2').style.display='none';
											 document.getElementById('txtMoveTo1').style.display='inline';"
										onkeypress="return submitEnter('cmdMoveTo',event)" />
									<x:commandButton action="#{NavigationForm.Reload}" id="cmdMoveTo" forceId="true"
										value="go" style="display:none" />
								</div>
								<h:commandLink styleClass="btn btn-primary font-size-s"
									action="#{AdministrationForm.administrationPlugin.cmdMoveNext}">
									<h:outputText value="#{msgs.pageNext} " />
									<i class="fa fa-angle-right"></i>
									<f:ajax execute="@form" render="@form :qaform" />
								</h:commandLink>
								<h:commandLink styleClass="btn font-size-s margin-sides-10"
									action="#{AdministrationForm.administrationPlugin.cmdMoveLast}">
									<i class="fa fa-double-angle-right"></i>
									<f:ajax execute="@form" render="@form :qaform" />
								</h:commandLink>
							</div>
							<!-- /paginator -->
						</div>
					</div>
				</intranda:box>
			</h:panelGroup>
		</h:form>
		<h:panelGroup rendered="#{AdministrationForm.administrationPlugin.detailList != null}">
			<intranda:box
				icon="fa fa-table"
				title="#{msgs.details}"
				boxForm="false"
				boxPadding="false"
				boxType="neutral">
				<div class="dataTables_wrapper">
					<div class="dataTables_length">
						<h:outputText value="#{msgs.treffer}: #{AdministrationForm.administrationPlugin.detailList.size()}" />
					</div>
					<!-- Datentabelle -->
					<x:dataTable
						styleClass="table table-hover table-nomargin dataTable table-bordered responsive"
						var="item" value="#{AdministrationForm.administrationPlugin.detailList}">
						<x:column styleClass="#{item.active ? 'inactive':'active'}" rendered="false">
							<f:facet name="header">
								<h:outputText value="#{msgs.id}" />
							</f:facet>
							<h:outputText value="#{item.id}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}">
							<f:facet name="header">
								<h:outputText value="#{msgs.creationDate}" />
							</f:facet>
							<h:outputText value="#{item.creationDate}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}">
							<f:facet name="header">
								<h:outputText value="#{msgs.modificationDate}" />
							</f:facet>
							<h:outputText value="#{item.modificationDate}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}">
							<f:facet name="header">
								<h:outputText value="#{msgs.deletionDate}" />
							</f:facet>
							<h:outputText value="#{item.deletionDate}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}" rendered="false">
							<f:facet name="header">
								<h:outputText value="#{msgs.filename}" />
							</f:facet>
							<h:outputText value="#{item.filename}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}">
							<f:facet name="header">
								<h:outputText value="#{msgs.bnumber}" />
							</f:facet>
							<h:outputText value="#{item.bnumber}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}">
							<f:facet name="header">
								<h:outputText value="#{msgs.material}" />
							</f:facet>
							<h:outputText value="#{item.material}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}">
							<f:facet name="header">
								<h:outputText value="#{msgs.accessStatus}" />
							</f:facet>
							<h:outputText value="#{item.accessStatus}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}">
							<f:facet name="header">
								<h:outputText value="#{msgs.accessLicence}" />
							</f:facet>
							<h:outputText value="#{item.accessLicence}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}">
							<f:facet name="header">
								<h:outputText value="#{msgs.playerPermissions}" />
							</f:facet>
							<h:outputText value="#{item.playerPermissions}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}">
							<f:facet name="header">
								<h:outputText value="#{msgs.status}" />
							</f:facet>
							<h:outputText value="#{item.status}" />
						</x:column>
						<x:column styleClass="#{item.active ? 'inactive':'active'}">
							<f:facet name="header">
								<h:outputText value="#{msgs.active}" />
							</f:facet>
							<h:panelGroup class="" rendered="#{!item.active}">
								<i class="fa fa-times-circle font-red font-size-l"></i>
							</h:panelGroup>
							<h:panelGroup rendered="#{item.active}">
								<i class="fa fa-check-circle font-green font-size-l"></i>
							</h:panelGroup>
					   </x:column>
					</x:dataTable>
					<div class="dataTables_info">
						<h:form>
							<h:commandLink styleClass="btn btn-primary font-size-s margin-top-regular" id="cancel"
								action="#{AdministrationForm.administrationPlugin.resetData}" immediate="true">
								<i class="fa fa-reply margin-right-5"></i>
								<h:outputText value="#{msgs.backToHitlist}" />
							</h:commandLink>
						</h:form>
					</div>
				</div>
			</intranda:box>
		</h:panelGroup>
	</composite:implementation>
</ui:composition>